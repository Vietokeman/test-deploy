# RAILWAY DEPLOYMENT - ENVIRONMENT VARIABLES
# Copy các biến này vào Railway Dashboard > Variables

# ============================================
# DATABASE - PostgreSQL (Railway cung cấp tự động)
# ============================================
# Railway sẽ tự động inject biến DATABASE_URL
# Format: postgresql://user:password@host:port/database
# Biến dưới đây được build từ DATABASE_URL của Railway

ConnectionStrings__DefaultConnection=${DATABASE_URL}

# Nếu Railway không tự map, dùng format này:
# ConnectionStrings__DefaultConnection=Host=${PGHOST};Port=${PGPORT};Database=${PGDATABASE};Username=${PGUSER};Password=${PGPASSWORD};SSL Mode=Require;Trust Server Certificate=true

# ============================================
# REDIS - Railway Redis Plugin
# ============================================
# Railway Redis sẽ inject REDIS_URL
ConnectionStrings__Redis=${REDIS_URL}

# Hoặc manual format:
# ConnectionStrings__Redis=${REDIS_HOST}:${REDIS_PORT},password=${REDIS_PASSWORD},ssl=false,abortConnect=false

# ============================================
# APPLICATION SETTINGS
# ============================================
ASPNETCORE_ENVIRONMENT=Production
ASPNETCORE_URLS=http://+:8080
DOTNET_ENVIRONMENT=Production

# ============================================
# CORS - Thêm domain Railway của bạn vào đây
# ============================================
# Railway sẽ cung cấp domain dạng: https://your-app.up.railway.app
AllowedOrigins__0=http://localhost:3000
AllowedOrigins__1=https://trippio-fe.vercel.app
AllowedOrigins__2=https://your-railway-app.up.railway.app
AllowedOrigins__3=https://your-custom-domain.com

# ============================================
# JWT SETTINGS
# ============================================
JwtTokenSettings__Key=bXlfc2VjdXJlX2p3dF9rZXlfMTI4IQ==
JwtTokenSettings__Issuer=https://your-railway-app.up.railway.app
JwtTokenSettings__ExpireInHours=24

# ============================================
# GOOGLE OAUTH (giữ nguyên từ appsettings)
# ============================================
Authentication__Google__ClientId=45013553161-9c1mg1qmk428buh8aqsnvr6uq5bpg6e4.apps.googleusercontent.com
Authentication__Google__ClientSecret=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

# ============================================
# PAYMENT SETTINGS
# ============================================
Payments__WebhookSecret=hahaae

# VNPay
Payments__VNPay__TMerchantId=TMPRY52R
Payments__VNPay__THashSecret=28G11MCL1G6Q3D2DO3Q2J9I5OSVA04W3
Payments__VNPay__TmnCode=TMPRY52R
Payments__VNPay__Version=2.1.0
Payments__VNPay__Command=pay
Payments__VNPay__CurrCode=VND
Payments__VNPay__Locale=vn
Payments__VNPay__BaseUrl=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html

# PayOS
PayOS__ClientId=0386ff7b-5d12-419f-8471-5015b22aff94
PayOS__ApiKey=6d78ef9e-4c3c-47be-b750-89583c33948a
PayOS__ChecksumKey=9c37932e3ace8e716c270f6a0e68ea47c3b0a0e8a13f80c8fcb627a70d6df8e7

# Redirect URLs - Cập nhật với domain frontend thực tế
Payments__RedirectUrls__Web=https://your-frontend.vercel.app/payment-return
Payments__RedirectUrls__Mobile=exp://your-app/payment-return

# ============================================
# MEDIA SETTINGS
# ============================================
MediaSettings__AllowImageFileTypes=image/png,image/jpeg,image/gif,image/bmp,image/webp,image/svg+xml
MediaSettings__ImagePath=media
MediaSettings__ImageUrl=/images/no-image.png

# ============================================
# EMAIL SETTINGS (SMTP)
# ============================================
Smtp__Host=smtp.gmail.com
Smtp__Port=587
Smtp__User=vietbmt19@gmail.com
Smtp__Pass=raka azkp yhzv ltgd
Smtp__UseSsl=false
Smtp__UseStartTls=true
Smtp__FromName=Trippio
Smtp__FromEmail=vietnse180672@fpt.edu.vn

# ============================================
# REPOSITORY PROVIDER
# ============================================
Repository__Provider=PostgreSql

# ============================================
# LOGGING
# ============================================
Logging__LogLevel__Default=Information
Logging__LogLevel__Microsoft.AspNetCore=Warning

# ============================================
# HEALTH CHECK
# ============================================
# Railway sẽ tự động check /health endpoint

# ============================================
# NOTES:
# ============================================
# 1. Thay ${DATABASE_URL}, ${REDIS_URL} bằng actual values từ Railway
# 2. Cập nhật AllowedOrigins với domain Railway thực tế
# 3. Cập nhật JwtTokenSettings__Issuer với domain Railway
# 4. Cập nhật Payments RedirectUrls với frontend domain
# 5. Đổi Repository__Provider từ "SqlServer" thành "PostgreSql"
